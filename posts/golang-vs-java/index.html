<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Golang vs Java(Part.1)" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Recently, I had a job interview in Ebay. They generally use Java for their development. And my programming language is Golang. So, they asked me that What is difference between Golang and Java?. As a matter of fact, I never thought about that. I would like to take this opportunity to summarize the differences between Golang and Java." /><meta property="og:description" content="Recently, I had a job interview in Ebay. They generally use Java for their development. And my programming language is Golang. So, they asked me that What is difference between Golang and Java?. As a matter of fact, I never thought about that. I would like to take this opportunity to summarize the differences between Golang and Java." /><link rel="canonical" href="/posts/golang-vs-java/" /><meta property="og:url" content="/posts/golang-vs-java/" /><meta property="og:site_name" content="Austin" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-23T06:00:25+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Golang vs Java(Part.1)" /><meta name="twitter:site" content="@ghkdqhrbals" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-08-23T06:00:25+00:00","datePublished":"2022-08-23T06:00:25+00:00","description":"Recently, I had a job interview in Ebay. They generally use Java for their development. And my programming language is Golang. So, they asked me that What is difference between Golang and Java?. As a matter of fact, I never thought about that. I would like to take this opportunity to summarize the differences between Golang and Java.","headline":"Golang vs Java(Part.1)","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/golang-vs-java/"},"url":"/posts/golang-vs-java/"}</script><title>Golang vs Java(Part.1) | Austin</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Austin"><meta name="application-name" content="Austin"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/avatar/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Austin</a></div><div class="site-subtitle font-italic"> Record every seconds</div><div class="site-subtitle"> <a href="https://ghkdqhrbals.github.io/portfolios/" class="mx-auto" style="color: #ffd700"> See my portfolio </a></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ghkdqhrbals" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ghkdqhrbals','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>Golang vs Java(Part.1)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Golang vs Java(Part.1)</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1661234425" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-08-23 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/ghkdqhrbals">ghkdqhrbals</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2223 단어"> <em>12 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>Recently, I had a job interview in Ebay. They generally use Java for their development. And my programming language is Golang. So, they asked me that <strong>What is difference between Golang and Java?</strong>. As a matter of fact, I never thought about that. I would like to take this opportunity to summarize the differences between Golang and Java.</p><h1 id="golang-vs-java">Golang vs Java</h1><h2 id="what-is-golang-and-java"><span class="mr-2">What is Golang and Java?</span><a href="#what-is-golang-and-java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="golang"><span class="mr-2">Golang</span><a href="#golang" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Golang is an open-source language from Google that made in 2011.</p><p>The syntax of Golang is close to “C” because the language’s compiler was built in C. But it is now written in Golang, allowing the language to remain self-hosted.</p><p>Golang is a concurrent programming language designed for modern multicore processors, meaning it can do numerous tasks at once. It also features deferred garbage collection, which manages memory to run programs quickly.</p><h3 id="java"><span class="mr-2">Java</span><a href="#java" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Java is a statically typed general-purpose programming language. Sun Microsystems developed and released Java in 1995.</p><p>Java used to be the language of choice for server-side applications, but it no longer holds that position. Despite that, hundreds of various applications around the world employ it. Various platforms, ranging from old legacy software on servers to modern data science and machine learning applications, use Java.</p><p>There are ample pre-built modules and codes available because Java is famous among developers. These modules and developer availability make coding in Java easy.</p><p>Java is versatile. It runs anywhere there’s a processor. It’s similar to a compiled language where the virtual machine breaks down the code into bytecode before compiling it.</p><h3 id="golang-vs-java-1"><span class="mr-2">Golang vs Java</span><a href="#golang-vs-java-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="table-wrapper"><table><thead><tr><th> <th>Golang<th>Java<tbody><tr><td>Type Hierarchy<td>Cannot<td>Can(OOP structure)<tr><td>Performance<td>High(Non-virtual machine)<td>Low(JVM)<tr><td>Community<td>Small<td>Large<tr><td>Concurrency<td>Powerful<td>less-Powerful<tr><td>Garbage Collection<td>Static<td>Dynamic<tr><td>run on<td>OS(so, performance high, light weighted)<td>JVM()</table></div><p>Both Java and Golang are powerful, popular, and useful. But still, they have significant differences. <br /> Java is <strong>1. object-oriented(OOP)</strong>, and has a <strong>2. larger library and community</strong>. <br /> Golang is <strong>1. better supports concurrency</strong>, <strong>2. light-weight, fast</strong>.</p><blockquote class="prompt-info"><div><p><strong>While Golang runs faster than Java, Java has more features and better support</strong>.</p></div></blockquote><h2 id="difference-in-usage-of-memory-and-garbage-collection"><span class="mr-2">Difference in usage of memory and Garbage Collection</span><a href="#difference-in-usage-of-memory-and-garbage-collection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>One advantage that we believe Go has over Java is that <strong>it gives you more control over memory layout</strong>. For example, a simple 2D graphics package might define:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>type Rect struct {
    X_top       Int
    X_bottom    Int
    Y_top       Int
    Y_bottome   Int
}
</pre></table></code></div></div><p>In Go, a Rect is just <strong>four integers contiguous in memory</strong>.</p><p>In Java, 4 Integer <strong>separately allocated in memory as different objects</strong>.</p><blockquote><p>This requires more allocated objects, taking up more memory, and <strong>giving the garbage collector more to track and more to do</strong>. On the other hand, it does avoid ever needing to create a pointer to the middle of an object.</p></blockquote><p><img data-src="../../assets/p/3/java_golang_memory_usage.png" alt="memoryUsage" data-proofer-ignore></p><ul><li>Go gives you more control over memory layout, and you can use that control to <strong>reduce the load on the garbage collector</strong>.</ul><blockquote class="prompt-info"><div><p>So, if you want to remove Rect from memory, just delete start address with four integers size. This avoids memory fragmentation and allocates memory at the end of the heap when new objects are created, <strong>allowing for fast memory allocation and deletion</strong>. I think that as memory is bigger and bigger, this trend would be fitted.</p></div></blockquote><ul><li>Case of Go, they has GC in their executable file. Java, however, they has GC in JVM. Thus, Go is more light-weight and highly productable.</ul><p>So, in primitive Java, it has memory fragmentation issues. And how do Java overcomes memory fragmentation? To deal with these major disadvantages, they use <strong>COMPACTION</strong>.</p><ul><li>Compaction involves moving objects around memory and collect them into contiguous blocks a memory. This is not cheap. Not only does moving the blocks from one memory location to another cost CPU cycles, but updating every reference to these objects to point to the new locations also costs CPU cycles. Doing these updates requires freezing all threads. You cannot update references while they are being used. This typically causes Java programs to have complete freezes of several hundred milliseconds where objects get moved around, references updated and unused memory reclaimed. Adding Complexity</ul><p>To reduce these long pauses(Stop-The-World), Java uses what is called <strong>GENERATIONAL</strong> garbage collectors.</p><p>The purpose of Generational Garbage Collection is that classifying objects by their age(times they survived in the GC, etc.) to improve GC efficiency</p><p>There is a hypothesis that, in many applications, <strong>most newly allocated objects in memory die more frequently</strong>. Following this hypothesis, Generational GC can give you improvements in efficiency by eliminating the need to scan long-lived objects multiple times.</p><p>Thus Java adopted this hypothesis and create their strategy with Generational GC.</p><ul><li>Frequently performing GC in the new object allocation area(<strong>Minor GC</strong>)<li>Objects surviving multiple times(oldest) in the area GC are <strong>promoted</strong> and <strong>moved</strong> to the less frequent area(<strong>Major GC</strong>).</ul><p><img data-src="../../assets/p/3/java_gc_1.png" alt="memoryUsage" data-proofer-ignore></p><blockquote><p>The collector in the current Go distributions is reasonable but by no means state of the art. <strong>To be clear, Go’s garbage collector is certainly not as good as modern Java garbage collectors</strong>, but we believe it is easier in Go to write programs that don’t need as much garbage collection to begin with, so the net effect can still be that <strong>garbage collection is less of an issue in a Go program</strong> than in an equivalent Java program.</p></blockquote><blockquote class="prompt-info"><div><p>In summary, if you want a <strong>Java</strong> class to hold ten different pieces of information of different types, you need to <strong>have ten different memory allocations and store ten pointers</strong>.</p><p>In <strong>Go</strong>, you can use a struct with fields of the appropriate type, and <strong>use a single memory allocation</strong>. This saves the space required by the pointers and as an extra bonus also saves some time for the garbage collector.</p><p>So, Java and Go have different concept in how they managing memory. I cannot exactly say which is better than the other. But one thing is sure that as Golang doesnt need virtual machine(only need machine code), <strong>Golang consumes less memory than Java</strong>. <br /> reference from <a href="https://www.quora.com/Why-is-Golangs-memory-usage-so-much-better-than-Javas"><strong>https://www.quora.com/Why-is-Golangs-memory-usage-so-much-better-than-Javas</strong></a></p></div></blockquote><p>Here is a memory usage when Java and Go compile or run their code.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>          Compile Time              Run time 
 
Go        Source code +             machine code 
          Go compiler + 
          machine code 
 
Java      Source code +             bytecode 
          JVM JIT +                 JVM JIT + 
          JVM Interpreter +         JVM Interpreter 
          javac compiler +          machine code 
          bytecode 
</pre></table></code></div></div><ul><li><strong>Even print “hello world” requires loading the entire JVM in memory.</strong></ul><h3 id="static-gcgolang-vs-dynamic-gcjava"><span class="mr-2">Static GC(Golang) vs Dynamic GC(Java)</span><a href="#static-gcgolang-vs-dynamic-gcjava" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Golang <strong>do not re-arrange objects in heap when they remove some of objects</strong>. And that is one of the static GC’s characteristic. Thus, static GC has issue that memory fragmentations occurs. <img data-src="../../assets/p/3/static_GC.png" alt="static gc" data-proofer-ignore></p><blockquote class="prompt-info"><div><p>To handle that fragmentation issues, Golang use <strong>TCMalloc</strong>(Thread-Caching Malloc) for efficient memory management(for multi-thread programming)!</p></div></blockquote><blockquote><h4 id="what-is-tcmalloc"><span class="mr-2">What is TCMalloc?</span><a href="#what-is-tcmalloc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>TCMalloc is Thread-Caching Malloc.</p><ol><li>TCMalloc <strong>reduces lock contention for multi-threaded programs</strong>.</ol><p>TCMalloc is faster than the glibc 2.3 malloc (available as a separate library called ptmalloc2) and other mallocs. ptmalloc2 takes approximately 300 nanoseconds to execute a malloc/free pair on a 2.8 GHz P4 (for small objects).</p><p>Another benefit of TCMalloc is space-efficient representation of small objects.</p><p><strong>TCMalloc treates objects with size &lt;= 32K</strong> (“small” objects) differently from larger objects. <strong>Large objects are allocated directly from the central heap</strong> using a page-level allocator (a page is a 4K aligned region of memory). I.e., a large object is always page-aligned and occupies an integral number of pages.</p></blockquote><h3 id="java-has-dynamic-gc"><span class="mr-2">Java has Dynamic GC</span><a href="#java-has-dynamic-gc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><img data-src="../../assets/p/3/dynamic_GC.png" alt="dynamic gc" data-proofer-ignore></p><ul><li>Also Java has adopted <strong>aging system(Generational garbage collection)</strong> for Garbage Collection.</ul><blockquote class="prompt-info"><div><p>To summarize, Golang use TCMalloc to <strong>reduce lock contention for multi-threaded programs</strong>. So, as most server leverage multi-threaded programs, Golang can reduce server’s memory(Golang dont need virtual machine) and reduce lock contention which means <strong>Golang run faster than Java</strong>.</p><p>– In Korean – <br /> Java는 JVM 위에서 돌아가기 때문에 실행하기 위해선 byte코드를 machine코드로 변환하는 과정이 필요하다. 반면 golang은 빌드과정에서 이미 machine코드로 변환했기 때문에 바로 동작할 수 있다. 빌드에 걸리는 시간도 GO 언어 내부적으로 최적화를 많이 해둬서 빠른편이다. GC는 각기 다른 측면이 있기에 무엇이 낫다고 정할 수는 없지만, (1) 경량 스레드를 지원하며, (2) 스레드 별 cashing을 적극적으로 지원하는 Golang이 multi-threading 환경에서는 더 낫다고 보여진다. 즉, 비동기를 위한 multi-threading 환경이 적용된 server는 자신의 퍼포먼스를 증가하기 위해 Golang을 선택하는 것은 타당하다고 생각된다.</p></div></blockquote><h2 id="difference-in-concurrency-and-simplicity"><span class="mr-2">Difference in Concurrency and Simplicity</span><a href="#difference-in-concurrency-and-simplicity" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>Java uses OS thread to perform parallel execution of work through green threads(threads managed by language runtime). Golang uses OS thread through goroutines. <strong>So in the parallelism there can’t be significant difference between both implementations</strong>.</p><li><p>But in concurrency there is huge difference. In java JVM map its green threads to OS threads while Golang brings mapping <strong>goroutines to OS threads into deep abstraction level through go scheduler(run in go-runtime, not virtual machine)</strong>.</p></ul><h3 id="comparison-of-concurrency-programming-with-example"><span class="mr-2">Comparison of Concurrency programming with example</span><a href="#comparison-of-concurrency-programming-with-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="java-1"><span class="mr-2">Java</span><a href="#java-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div file="main.java" class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="main.java"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">string</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
  <span class="k">new</span> <span class="nf">FixedThreadPoolExecutor</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div file="Task.java" class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Task.java"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">taskExecutor</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Task</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Task</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span><span class="o">{</span>
            <span class="nc">Long</span> <span class="n">duration</span> <span class="o">=</span> <span class="o">(</span><span class="kt">long</span><span class="o">)(</span><span class="nc">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()*</span><span class="mi">10</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Doing a task during : "</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
            <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">duration</span><span class="o">);</span>
        <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></table></code></div></div><div file="FixedThreadPoolExecutor.java" class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="FixedThreadPoolExecutor.java"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">taskExecutor</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.concurrent.Executors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ThreadPoolExecutor</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixedThreadPoolExecutor</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">FixedThreadPoolExecutor</span><span class="o">(){</span>
        <span class="nc">ThreadPoolExecutor</span> <span class="n">executor</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ThreadPoolExecutor</span><span class="o">)</span><span class="nc">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="nc">Task</span> <span class="n">task</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Task</span><span class="o">(</span><span class="s">"Task"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"A new task has been added: "</span><span class="o">+</span> <span class="n">task</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
            <span class="n">executor</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">task</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Maximum threads inside pool "</span> <span class="o">+</span> <span class="n">executor</span><span class="o">.</span><span class="na">getMaximumPoolSize</span><span class="o">());</span>
        <span class="n">executor</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="golang-1"><span class="mr-2">Golang</span><a href="#golang-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>As you can see, Golang is more simple than Java. <strong>With Golang, we can easly access IPC with channel.</strong></ul><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"runtime"</span>
	<span class="s">"fmt"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">nCPU</span><span class="o">:=</span><span class="n">runtime</span><span class="o">.</span><span class="n">NumCPU</span><span class="p">()</span>
	<span class="n">runtime</span><span class="o">.</span><span class="n">GOMAXPROCS</span><span class="p">(</span><span class="n">nCPU</span><span class="p">)</span>

	<span class="k">const</span> <span class="n">maxNumber</span>  <span class="o">=</span> <span class="m">100</span>

	<span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">)</span>
	<span class="k">defer</span> <span class="nb">close</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

	<span class="k">go</span> <span class="n">Generate</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>

	<span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">maxNumber</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">{</span>
		<span class="n">prime</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">ch</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">prime</span><span class="p">)</span>
		<span class="n">ch1</span><span class="o">:=</span><span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">int</span><span class="p">)</span>
		<span class="k">go</span> <span class="n">Filter</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span><span class="n">ch1</span><span class="p">,</span><span class="n">prime</span><span class="p">)</span>
		<span class="n">ch</span><span class="o">=</span><span class="n">ch1</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Generate</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span><span class="o">&lt;-</span> <span class="kt">int</span><span class="p">){</span>
	<span class="k">for</span> <span class="n">i</span><span class="o">:=</span><span class="m">2</span><span class="p">;</span> <span class="p">;</span><span class="n">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="n">ch</span> <span class="o">&lt;-</span><span class="n">i</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">Filter</span><span class="p">(</span><span class="n">in</span> <span class="o">&lt;-</span><span class="k">chan</span> <span class="kt">int</span><span class="p">,</span><span class="n">out</span> <span class="k">chan</span> <span class="o">&lt;-</span><span class="kt">int</span><span class="p">,</span> <span class="n">prime</span> <span class="kt">int</span><span class="p">){</span>
	<span class="k">for</span><span class="p">{</span>
		<span class="n">i</span><span class="o">:=</span> <span class="o">&lt;-</span><span class="n">in</span>
		<span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="n">prime</span> <span class="o">!=</span><span class="m">0</span><span class="p">{</span>
			<span class="n">out</span> <span class="o">&lt;-</span> <span class="n">i</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>For short, <strong>Go has much better concurrency handling compared to Java</strong>.</p><p>In Java the concurrence runs within autonomous threads, which are quite expensive to create and manage and can only communicate with each other via shared (volatile) variables or return values. It has historical reasons, because Java has been designed when very little concurrency in mind, since concurrency was not really possible on personal computers of that time and was added later on, but as an addition, not a core design feature.</p><p>Go, on the other hand, has been designed with concurrency in mind. It inverts the approach:</p><p><strong>‘Do not communicate by sharing memory; instead, share memory by communicating.’</strong></p><p>To realize this it introduced channels, which are best understood as synchronized ques in Java word. One go subprocess is called goroutine and can write into a unbuffered channel and wait until the written value has been picked up by a different goroutines or fill its buffer when the channel is buffered. The whole synchronization is handled by go. It’s also worth mentioning that go routines are much cheaper to create and much more lightweight so you’ll find them all over the place/code.</p><p>reference from <a href="https://www.quora.com/How-does-Java-concurrency-compare-to-Golang"><strong>https://www.quora.com/How-does-Java-concurrency-compare-to-Golang</strong></a></p></div></blockquote><h4 id="go-runtime-vs-java-virtual-machine"><span class="mr-2">Go Runtime vs Java Virtual Machine</span><a href="#go-runtime-vs-java-virtual-machine" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Does Go have a runtime?</p><p>Go does have an extensive library, called the runtime, that is part of every Go program. The runtime library implements garbage collection, concurrency, stack management, and other critical features of the Go language. Although it is more central to the language, Go’s runtime is analogous to libc, the C library.</p><ul><li>Go has small runtime in their binary file when Java has runtime in JVM.</ul><blockquote><p>It is important to understand, however, that <strong>Go’s runtime does not include a virtual machine</strong>, such as is provided by the Java runtime. Go programs are compiled ahead of time to native machine code (or JavaScript or WebAssembly, for some variant implementations). Thus, although the term is often used to describe the virtual environment in which a program runs, in Go the word “runtime” is just the name given to the library providing critical language services.</p><p><a href="https://go.dev/doc/faq#runtime">reference from <strong>https://go.dev/doc/faq#runtime</strong></a></p></blockquote><h1 id="references">References</h1><ul><li><a href="http://goog-perftools.sourceforge.net/doc/tcmalloc.html">http://goog-perftools.sourceforge.net/doc/tcmalloc.html</a><li><a href="https://stackoverflow.com/questions/14322724/what-is-the-go-language-garbage-collection-approach-compared-to-others">https://stackoverflow.com/questions/14322724/what-is-the-go-language-garbage-collection-approach-compared-to-others</a><li><a href="https://groups.google.com/g/golang-nuts/c/m7IFRYnI-L4">https://groups.google.com/g/golang-nuts/c/m7IFRYnI-L4</a><li><a href="https://go.dev/doc/faq#runtime">https://go.dev/doc/faq#runtime</a><li><a href="https://www.turing.com/blog/golang-vs-java-which-language-is-best/">https://www.turing.com/blog/golang-vs-java-which-language-is-best/</a><li><a href="https://velog.io/@kineo2k/Go-언어의-GC">https://velog.io/@kineo2k/Go-언어의-GC</a><li><a href="https://engineering.linecorp.com/ko/blog/go-gc/">https://engineering.linecorp.com/ko/blog/go-gc/</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%84%9C%EB%B2%84/'>서버</a>, <a href='/categories/golang/'>Golang</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/golang/" class="post-tag no-text-decoration" >golang</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Golang+vs+Java%28Part.1%29+-+Austin&url=%2Fposts%2Fgolang-vs-java%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Golang+vs+Java%28Part.1%29+-+Austin&u=%2Fposts%2Fgolang-vs-java%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fgolang-vs-java%2F&text=Golang+vs+Java%28Part.1%29+-+Austin" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cs-information/">CS information</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/error/">error</a> <a class="post-tag" href="/tags/ethereum/">Ethereum</a> <a class="post-tag" href="/tags/msa/">msa</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/restful/">RESTFUL</a> <a class="post-tag" href="/tags/token/">token</a> <a class="post-tag" href="/tags/database/">database</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/golang-backend(1)/"><div class="card-body"> <em class="small" data-ts="1643749225" data-df="YYYY-MM-DD" > 2022-02-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How can we generate golang interface from SQL queries?</h3><div class="text-muted small"><p> Database design First I’m going to write DB scheme using dbdiagram. We can make general sql code as below. Table users as U{ username varchar [pk] hased_password varchar [not null] full_...</p></div></div></a></div><div class="card"> <a href="/posts/golang-backend(3)/"><div class="card-body"> <em class="small" data-ts="1650693625" data-df="YYYY-MM-DD" > 2022-04-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Banking backend server with Golang(Done)</h3><div class="text-muted small"><p> Progress For my experience in golang-backend, I use below skills for develop my banking service. You can see the source code in my github. Banking backend server Skills Skills...</p></div></div></a></div><div class="card"> <a href="/posts/golang-vs-java2/"><div class="card-body"> <em class="small" data-ts="1661407225" data-df="YYYY-MM-DD" > 2022-08-25 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Golang vs Java(Part.2)</h3><div class="text-muted small"><p> In concurrency, Golang and Java has multiple different features. Difference in Memory Usage, Cost of con/de-construction &amp;amp; Context Switch Golang is known as a first-class support for concurre...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/npm-vs-yarn/" class="btn btn-outline-primary" prompt="이전 글"><p>NPM vs YARN, what is your favorite?</p></a> <a href="/posts/golang-vs-java2/" class="btn btn-outline-primary" prompt="다음 글"><p>Golang vs Java(Part.2)</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cs-information/">CS information</a> <a class="post-tag" href="/tags/golang/">golang</a> <a class="post-tag" href="/tags/backend/">backend</a> <a class="post-tag" href="/tags/error/">error</a> <a class="post-tag" href="/tags/ethereum/">Ethereum</a> <a class="post-tag" href="/tags/msa/">msa</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/restful/">RESTFUL</a> <a class="post-tag" href="/tags/token/">token</a> <a class="post-tag" href="/tags/database/">database</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ghkdqhrbals">ghkdqhrbals</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-VTR1DF5BPL"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-VTR1DF5BPL'); }); </script>
